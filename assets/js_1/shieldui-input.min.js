/* Shield UI 1.7.43 | Copyright 2013-2021 Shield UI Ltd. | http://www.shieldui.com/eula */
!function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C=b.ui.Widget,D=(b.Class,b.DataSource),E=b.ui.Position,F=b.Constants.KeyCode,G=b.error,H=b.is.func,I=b.is.array,J=b.is.defined,K=(b.is.number,b.is.string),L=(b.is.object,b.to.array),M=b.to["int"],N=b.to.number,O=b.support.browser,P=b.format,Q=b.strid,R=document,S=Math.min,T=Math.max,U=Math.pow,V=a.extend,W=(a.map,a.each),X=a.proxy,Y=a.inArray,Z="id",$="role",_="true",aa="false",ba="listbox",ca="textbox",da="button",ea="switch",fa="aria",ga=fa+"-selected",ha=fa+"-autocomplete",ia=fa+"-activedescendant",ja=fa+"-multiline",ka=fa+"-valuenow",la=fa+"-valuemin",ma=fa+"-valuemax",na=fa+"-valuetext",oa=fa+"-disabled",pa=fa+"-haspopup",qa=fa+"-checked",ra=fa+"-label",sa=fa+"-labelledby",ta=fa+"-controls",ua=fa+"-expanded",va="alt",wa="title",xa="disabled",ya="checked",za="selected",Aa="itemclick",Ba="tabindex",Ca="mousedown",Da="mouseup",Ea="mouseout",Fa="click",Ga="keydown",Ha="keypress",Ia="keyup",Ja="cut",Ka="paste",La="dragstart",Ma="dragenter",Na="dragover",Oa="drop",Pa="change",Qa="focus",Ra="blur",Sa="resize",Ta="select",Ua="input",Va="value",Wa="placeholder",Xa="selectstart",Ya="unselectable",Za="on",$a="width",_a="height",ab="suilbitemdata",bb="suilbitemindex",cb="suilbitemvalue",db="suilbitemtext",eb="uts",fb="uti",gb="utta",hb="uto",ib=function(b){var c=a(b).prop("tagName").toLowerCase();return c==Ta?eb:c==Ua?fb:"textarea"==c?gb:hb},jb=function(b){return a("<div/>").text(b).html()},kb=function(b){var c,d=a(b);d.focus(),d.get(0).setSelectionRange?(c=2*d.val().length,d.get(0).setSelectionRange(c,c)):d.val(d.val())},lb=function(a){a+="";var b=a.lastIndexOf(".");return b>-1?a.length-b-1:0},mb=function(a,b){if(a&&!H(a))if(I(a))for(var c=0;c<a.length;c++)mb(a[c],b);else if(a.or||a.and)for(var d in a)a.hasOwnProperty(d)&&mb(a[d],b);else a.value=b};e={enabled:!0,cls:d,dataSource:d,readDataSource:!0,valueTemplate:d,textTemplate:d,multiple:d,selected:d,values:d,width:d,height:d,maxHeight:d,events:{}},f=C.extend({init:function(){C.fn.init.apply(this,arguments);var b,c,d,e,f=this,g=f.options,h=g.dieOnError,i=g.dataSource,j=g.selected,k=g.values,l=g.renderToINTERNAL,m=g.wrapOriginalINTERNAL,n=g.tabindexINTERNAL,o=g.filterINTERNAL,p=J(o)?{filter:o}:{},q=!J(m)||m;if(f._original=b=a(f.element),f._utype=e=ib(b),e==fb&&g.multiple)return f.destroy(),void G("shieldListBox: Cannot initialize a multi-selection ListBox from an input element.",h);if(f._eventNS=".shieldListBox"+f.getInstanceId(),J(k)||J(j)||e!=eb&&e!=fb||(k=b.val()),q?(f.wrapper=b.wrap("<span/>").parent(),f._isWrapped=!0):f._isWrapped=!1,b.hide(),f.element=d=a('<ul id="'+Q()+'"/>').on(Qa+f._eventNS,X(f._focus,f)).on(Ra+f._eventNS,X(f._blur,f)),J(g.width)&&d.css($a,g.width),J(g.height)&&d.css(_a,g.height),J(g.maxHeight)&&d.css("max-height",g.maxHeight),a(l).length>0?a(l).append(d):b.after(d),i)f.dataSource=D.create(i,p),g.valueTemplate||(g.valueTemplate="{0}"),g.textTemplate||(g.textTemplate="{0}");else{if(e!=eb)return f.destroy(),void G("shieldListBox: No dataSource or underlying SELECT element found.",h);f.dataSource=D.create(V({},{data:b,schema:{type:Ta}},p)),g.valueTemplate||(g.valueTemplate="{value}"),g.textTemplate||(g.textTemplate="{text}"),J(g.multiple)||(g.multiple=b.not("[multiple]").length<=0)}d.addClass("sui-listbox"),g.cls&&d.addClass(g.cls),c=J(n)?n:b.attr(Ba),d.attr(Ba,J(c)?c:"0"),d.on(Ga+f._eventNS,X(f._keydown,f)),f.dataSource.on(Pa+f._eventNS,X(f._dsChange,f)),J(k)?f._initValues=k:J(j)&&(f._initSelected=j),d.attr($,ba),g.multiple&&d.attr("aria-multiselectable",_),g.readDataSource&&f.dataSource.read(),f.enabled(g.enabled)},refresh:function(a){this.refreshWithElement(this._original,a)},_focus:function(a){var b=this;b._oldSelection=b.selected(),b.trigger(Qa)},_blur:function(b){var c=this,d=c._oldSelection,e=c.selected();0===a(d).not(e).length&&0===a(e).not(d).length||c.trigger(Pa),c._oldSelection=e,c.trigger(Ra)},_dsChange:function(a){var b=this;b._render(),b._dsLoadedOnce||(b._dsLoadedOnce=!0,J(b._initValues)?b.values(b._initValues):J(b._initSelected)&&b.selected(b._initSelected))},_render:function(){var b=this,c=b.options,e=b.dataSource.view,f=a(b.element),g=b._utype,h=b._original,i=f.attr(Z)+"_opt";g==fb?b._original.val():d;f.empty(),g==eb?h.empty():g==fb&&h.removeAttr(Va),e&&W(e,function(d,e){var j=P.call(b,c.valueTemplate,e),k=P.call(b,c.textTemplate,e),l=a('<li id="'+i+d+'" role="option">'+k+"</li>").addClass("sui-listbox-item sui-unselectable").click(function(c){b._enabled&&(b._setActive(a(this)),b._toggleActive(c)),b.trigger(Aa,{index:d,item:e})}).on(Xa,function(){return!1}).data(ab,e).data(bb,d).data(cb,j).data(db,k);c.multiple&&l.attr(ga,aa),f.append(l),g==eb&&h.append(a("<option/>").attr(Va,j).text(k))})},_keydown:function(a){var b=this,c=!0;switch(a.keyCode){case F.UP:b._move("up",a);break;case F.DOWN:b._move("down",a);break;case F.HOME:b._move("first",a),c=!1;break;case F.END:b._move("last",a),c=!1;break;case F.SPACE:case F.ENTER:b._toggleActive(a);break;default:c=!1}c&&a.preventDefault()},_move:function(b,c){var d=this,e=a(d.element),f=e.find(".sui-listbox-item-active").first(),g=e.find(":first");d._enabled&&("up"==b?f.prev().length>0?g=f.prev():f.length>0&&(g=f):"down"==b?f.next().length>0?g=f.next():f.length>0&&(g=f):"first"==b?g=e.find(".sui-listbox-item").first():"last"==b&&(g=e.find(".sui-listbox-item").last()),g.length<=0||(d.options.multiple?(d._setActive(g),d._ensureInScrollableArea(g)):d._select(g)))},_ensureInScrollableArea:function(b){var c=this,d=a(c.element),e=d.height(),f=d.scrollTop(),g=b.outerHeight(),h=b.position().top,i=h+g;h<0?d.scrollTop(f+h):i>e&&d.scrollTop(f+(i-e))},ensureActiveViewableINTERNAL:function(){var a=this,b=a._getActive();b.length>0&&a._ensureInScrollableArea(b)},_getActive:function(){return a(this.element).find(".sui-listbox-item-active").first()},_setActive:function(b){b.addClass("sui-listbox-item-active").siblings().removeClass("sui-listbox-item-active"),a(this.element).attr(ia,b.attr(Z))},_setSelected:function(a){a.addClass("sui-listbox-item-selected").attr(ga,_)},_unsetSelected:function(a){a.removeClass("sui-listbox-item-selected"),this.options.multiple?a.attr(ga,aa):a.removeAttr(ga)},_toggleActive:function(a){this._toggle(a,this._getActive())},_toggle:function(a,b){var c=this;c._enabled&&(!b||b.length<=0||(c.options.multiple&&b.hasClass("sui-listbox-item-selected")?c._deselect(b):c._select(b)))},_select:function(a,b){var c=this,d=c._original,e=c._utype,f=c.options.multiple;f||c.clearSelection(),c._setActive(a),c._ensureInScrollableArea(a),c._setSelected(a),e==eb?d.find("option:eq("+a.data(bb)+")").attr(za,za):e==fb&&d.attr(Va,a.data(cb)),b||c.trigger(Ta,{index:a.data(bb),item:a.data(ab),value:a.data(cb),text:a.data(db),selected:!0})},_deselect:function(a,b){var c=this,d=c._original,e=c._utype;c._setActive(a),c._unsetSelected(a),e==eb?d.find("option:eq("+a.data(bb)+")").removeAttr(za):e==fb&&d.removeAttr(Va),b||c.trigger(Ta,{index:a.data(bb),item:a.data(ab),value:a.data(cb),text:a.data(db),selected:!1})},enabled:function(){var b,c=this,d=a(c.element),e=c._original,f=[].slice.call(arguments);return f.length>0?(b=!!f[0],b?(d.removeAttr(xa).removeClass("sui-listbox-disabled"),e.removeAttr(xa)):(d.attr(xa,xa).addClass("sui-listbox-disabled"),e.attr(xa,xa)),c._enabled=b,void 0):c._enabled},selected:function(){var b,c,d=this,e=a(d.element),f=[].slice.call(arguments);if(!(f.length>0)){var g=[];return e.find(".sui-listbox-item-selected").each(function(){g.push(a(this).data(bb))}),g}b=L(f[0]),c=!J(f[1])||!!f[1],e.find(".sui-listbox-item").each(function(e){Y(e,b)>-1&&(c?d._select(a(this),!0):d._deselect(a(this),!0))})},selectedItems:function(){var b=[];return a(this.element).find(".sui-listbox-item-selected").each(function(){b.push(a(this).data(ab))}),b},values:function(){var b,c=this,d=a(c.element),e=[].slice.call(arguments);if(!(e.length>0)){var f=[];return d.find(".sui-listbox-item-selected").each(function(){f.push(a(this).data(cb))}),f}b=L(e[0]),d.find(".sui-listbox-item").each(function(){if(Y(a(this).data(cb),b)>-1)return c._select(a(this),!0),!!c.options.multiple})},texts:function(){var b=[];return a(this.element).find(".sui-listbox-item-selected").each(function(){b.push(a(this).data(db))}),b},clearSelection:function(){var b=this,c=b._original,d=b.options.multiple,e=b._utype;e==eb?c.find("option").removeAttr(za):e==fb&&c.removeAttr(Va),a(b.element).find(".sui-listbox-item-selected").each(function(){a(this).removeClass("sui-listbox-item-selected sui-listbox-item-active"),d?a(this).attr(ga,aa):a(this).removeAttr(ga)})},destroy:function(){var b=this,c=b._eventNS;b._dsLoadedOnce=!1,a(b.element).off(c).remove(),b.dataSource&&b.dataSource.off(Pa+c),b._isWrapped&&b._original.unwrap(),b._original.show(),C.fn.destroy.call(b)}}),f.defaults=e,b.ui.plugin("ListBox",f),i={enabled:!0,cls:d,autoComplete:d,value:d,events:{}},j=C.extend({init:function(){C.fn.init.apply(this,arguments);var b=this,c=b.options,d=c.autoComplete,e=c.cls,f=c.value,g=a(b.element);b._eventNS=".shieldTextBox"+b.getInstanceId(),g.addClass("sui-input"),d&&(b.autoComplete=new h(g,d)),e&&g.addClass(e),g.on(Qa+b._eventNS,X(b._focus,b)).on(Ra+b._eventNS,X(b._blur,b)),g.attr($,ca),ib(g)==gb&&g.attr(ja,_),b.enabled(c.enabled),J(f)&&b.value(f)},focus:function(){a(this.element).focus(),kb(a(this.element))},_focus:function(a){var b=this;b.oldValue=b._value(),b.interval=setInterval(X(b._detectChanges,b),1),b.trigger(Qa)},_blur:function(a){clearInterval(this.interval),this.trigger(Ra)},_detectChanges:function(){var a,b=this;b._enabled&&b.oldValue!==b._value()&&(a=b.trigger(Pa,{value:b._value(),old:b.oldValue}),a.isDefaultPrevented()?b._value(b.oldValue):b.oldValue=b._value())},_value:function(){return this.element.val.apply(this.element,arguments)},value:function(){return this._value.apply(this,arguments)},enabled:function(){var b,c=this,d=a(c.element),e=[].slice.call(arguments);return e.length>0?(b=!!e[0],b?d.removeAttr(xa).removeClass("sui-input-disabled"):d.attr(xa,xa).addClass("sui-input-disabled"),c._enabled=b,void 0):c._enabled},destroy:function(){var a=this,b=a.autoComplete,c=a.options.cls;clearInterval(a.interval),a.element.off(a._eventNS).removeClass("sui-input"+(c?" "+c:"")),b&&b.destroy(),C.fn.destroy.call(a)}}),j.defaults=i,b.ui.plugin("TextBox",j),g={dataSource:d,valueTemplate:"{0}",textTemplate:"{0}",open:!1,delay:200,minLength:2,dropDownWidth:d,appendListBoxTo:"body",animation:{enabled:!0,openDelay:200,closeDelay:100},events:{}},h=C.extend({init:function(){C.fn.init.apply(this,arguments);var b=this,d=a(b.element),e=b.options,g=e.dataSource,h=e.dieOnError,i=e.appendListBoxTo;return b.pending=0,b.oldValue=d.val(),g?(g.filter||(g.filter={and:[{path:"",filter:"contains",value:""}]}),b._eventNS=".shieldAutoComplete"+b.getInstanceId(),d.addClass("sui-input"),b.listElement=a("<span/>").appendTo(a(i)),b.listBox=new f(b.listElement,{cls:"sui-autocomplete",dataSource:g,readDataSource:!1,textTemplate:e.textTemplate,multiple:!1,width:e.dropDownWidth||d.innerWidth(),events:{select:function(a){b._value(P.call(b,e.valueTemplate,a.item)),b.trigger(Ta,{item:a.item})},itemclick:function(a){d.focus(),b._inputBlur(a,0)},blur:function(a){b._inputBlur(a,0)}}}),b.listBox.element.hide(),b.dataSource=b.listBox.dataSource,d.on(Ga+b._eventNS,X(b._inputKeydown,b)).on(Ra+b._eventNS,X(b._inputBlur,b,100)),d.attr(ha,"list").attr(ta,b.listBox.element.attr(Z)).attr(pa,b.listBox.element.attr($)),d.attr($,ca),ib(d)==gb&&d.attr(ja,_),b.listBox.dataSource.on(Pa+b._eventNS,X(b._dsChange,b)),a(c).on(Sa+b._eventNS,X(b._position,b)),b._open=!1,void(e.open&&b._searchTimeout())):(b.destroy(),void G("shieldAutoComplete: No dataSource set",h))},_checkValueUpdated:function(){var a=this,b=a.element,c=b.val();a.oldValue!==c&&(a.trigger(Pa,{value:a._value()}),a.oldValue=c)},_restoreOldValue:function(){this._value(this.oldValue)},_inputKeydown:function(a){var b=this;switch(a.keyCode){case F.TAB:break;case F.UP:case F.DOWN:b._inputUpDown(a);break;case F.ENTER:a.preventDefault(),b.cancelSearch=!0,b._hideItemList(),b._checkValueUpdated();break;case F.ESC:a.preventDefault(),b.cancelSearch=!0,b._hideItemList(),b._restoreOldValue();break;default:b._searchTimeout(a)}},_inputUpDown:function(b){var c=this;c._open?c._hasData()&&a(c.listBox.element).trigger(b):c._hasData()&&c._showItemList()},_inputBlur:function(b,c){var d=this;setTimeout(function(){a(d.listBox.element).is(":focus")||(d._hideItemList(),d._checkValueUpdated())},c)},_searchTimeout:function(a){var b=this;clearTimeout(b.searchTimeout),b.searchTimeout=setTimeout(function(){b.term!==b._value()&&(b.trigger("search",{value:b._value()}),b._search())},b.options.delay)},_search:function(){var b=this;return b.term=b._value(),b.term.length<b.options.minLength?void b._hideItemList():(b.cancelSearch=!1,b.pending++,a(b.element).addClass("sui-autocomplete-loading"),mb(b.listBox.dataSource.filter,b.term),void b.listBox.dataSource.read())},_dsChange:function(){var b=this;b.pending--,b.pending||a(b.element).removeClass("sui-autocomplete-loading"),!b.cancelSearch&&b._hasData()?b._showItemList():b._hideItemList()},_hasData:function(){var a=this.listBox.dataSource.view;return a&&a.length>0},_position:function(){var b=this,c=a(b.element),d=a(b.listBox.element);d.width(b.options.dropDownWidth||c.innerWidth()),E.Set(d,c,{source:"left top",target:"left bottom",overflow:"none"})},_showItemList:function(){var b=this,c=b.listBox,d=a(c.element),e=b.options.animation;d.css({top:0,left:0}),d.show(),b._position(),!b._open&&e&&e.enabled?d.hide().slideDown(e.openDelay,X(c.ensureActiveViewableINTERNAL,c)):c.ensureActiveViewableINTERNAL(),b._open=!0},_hideItemList:function(){var b=this,c=a(b.listBox.element),d=b.options.animation;d&&d.enabled?c.slideUp(d.closeDelay):c.hide(),b._open=!1},_value:function(){return this.element.val.apply(this.element,arguments)},hide:function(){a(this.listBox.element).hide()},show:function(){a(this.listBox.element).show()},isVisible:function(){return a(this.listBox.element).is(":visible")},destroy:function(){var b=this;b.dataSource=null,b.listBox&&(b.listBox.dataSource.off(Pa+b._eventNS),b.listBox.destroy(),b.listBox=null),b.element.off(b._eventNS).removeClass("sui-input"),a(c).off(Sa+b._eventNS),b.listElement&&b.listElement.remove(),C.fn.destroy.call(b)}}),h.defaults=g,b.ui.plugin("AutoComplete",h),k={enabled:!0,cls:"",min:0,max:100,value:d,step:d,editable:!0,spinners:!0,valueTemplate:d,textTemplate:d,labels:{increase:"Increase value",decrease:"Decrease value"},events:{}},l=C.extend({init:function(){C.fn.init.apply(this,arguments);var b,c,d,e,f,g,h,i,j=this,k=j.options,l=k.cls,m=k.value,n=k.step,o=k.editable,p=k.spinners,q=k.labels,r=q.increase,s=q.decrease,t=k.dieOnError;return j._original=b=a(j.element),ib(b)!=fb?void G("shieldNumericTextBox: Underlying element is not INPUT",t):(J(n)?k.step=n=N(n):(h=lb(J(m)?m:j._value()),h>0?k.step=n=1/U(10,h):k.step=n=1),n?(j._eventNS=".shieldNumericTextBox"+j.getInstanceId(),j.element=d=b.wrap("<span/>").parent(),b.hide(),J(m)||(m=j._value()),o?(e=a('<input type="text" class="sui-input" />'),c=b.attr(Wa),J(c)&&e.attr(Wa,c)):e=a('<span class="sui-input">&nbsp;</span>').attr(Ba,"0"),j.textElement=e,e.appendTo(d),e.on(Qa+j._eventNS,X(j._focus,j)).on(Ra+j._eventNS,X(j._blur,j)),p&&(j._onSpinUpMDProxy=X(j._spinUpMD,j),j._onSpinDownMDProxy=X(j._spinDownMD,j),j._onSpinnerMUProxy=X(j._spinnerMU,j),j.spinUp=f=a('<span class="sui-spinner sui-spinner-up sui-unselectable"/>').html('<span class="sui-caret-up sui-unselectable" unselectable="on"/>').attr(Ya,Za).attr(va,r).attr(wa,r).on(Ca+j._eventNS,j._onSpinUpMDProxy).on(Da+j._eventNS,j._onSpinnerMUProxy).on(Ea+j._eventNS,j._onSpinnerMUProxy).on(Xa+j._eventNS,function(){return!1}),j.spinDown=g=a('<span class="sui-spinner sui-spinner-down sui-unselectable"/>').html('<span class="sui-caret-down sui-unselectable" unselectable="on"/>').attr(Ya,Za).attr(va,s).attr(wa,s).on(Ca+j._eventNS,j._onSpinDownMDProxy).on(Da+j._eventNS,j._onSpinnerMUProxy).on(Ea+j._eventNS,j._onSpinnerMUProxy).on(Xa+j._eventNS,function(){return!1}),d.append(a('<span class="sui-spinners"/>').append(f,g))),e.on(Ga+j._eventNS,X(j._keydown,j)),d.addClass("sui-numeric-textbox"+(p?"":" sui-numeric-textbox-nosp")+(l?" "+l:"")),i=lb(n),J(k.textTemplate)||(k.textTemplate="{0:n"+i+"}"),J(k.valueTemplate)||(k.valueTemplate="{0:n"+i+"}"),d.attr($,"spinbutton").attr(la,k.min).attr(ma,k.max),j.enabled(k.enabled),J(m)&&j.value(m),void(j._destroyed=!1)):void G("shieldNumericTextBox: Invalid step",t))},refresh:function(a){this.refreshWithElement(this._original,a)},_focus:function(b){var c=this;c._hasFocus||(c._hasFocus=!0,a(c.element).addClass("sui-numeric-textbox-focus"),c.value(c.value()),c.trigger(Qa))},_blur:function(b){var c=this,d=a(c.element),e=a(c.textElement);if(c.options.editable){var f,g=c.value();c._updateIfDirty(),f=c.value(),f!==g&&c.trigger(Pa,{value:f})}setTimeout(function(){if(!(d.is(":focus")||e.is(":focus")||c._destroyed)){if(c._hasFocus=!1,d.removeClass("sui-numeric-textbox-focus"),c.options.editable){var a,b=c.value();c.value(e.val()),a=c.value(),a!==b&&c.trigger(Pa,{value:a})}else c.value(c.value());c.trigger(Ra)}},100)},_keydown:function(a){var b=this,c=a.keyCode,d=b._enabled;switch(c){case F.TAB:case F.LEFT:case F.RIGHT:break;case F.END:b._updateValue("max",!1),a.preventDefault();break;case F.HOME:b._updateValue("min",!1),a.preventDefault();break;case F.ESC:d&&b.value(b.value()),a.preventDefault();break;case F.UP:b._updateValue("inc",!1),a.preventDefault();break;case F.DOWN:b._updateValue("dec",!1),a.preventDefault();break;default:b.options.editable&&d&&(c>=48&&c<=57||c>=96&&c<=105||190==c||110==c||173==c||109==c||189==c||c==F.DEL||c==F.BACK||c==F.ENTER||a.ctrlKey&&(118==c||86==c))?b._dirty=!0:a.preventDefault()}},_spinUpMD:function(a){var b=this;a.preventDefault(),b._updateValue("inc",!1),b._spinUpCancel=!1,setTimeout(function(){b._spinUpInt||b._spinUpCancel||(b._spinUpInt=setInterval(X(b._updateValue,b,"inc",!1),20))},100)},_spinDownMD:function(a){var b=this;a.preventDefault(),b._updateValue("dec",!1),b._spinDownCancel=!1,setTimeout(function(){b._spinDownInt||b._spinDownCancel||(b._spinDownInt=setInterval(X(b._updateValue,b,"dec",!1),20))},100)},_spinnerMU:function(a){var b=this;b._spinUpCancel=b._spinDownCancel=!0,clearInterval(b._spinUpInt),clearInterval(b._spinDownInt),b._spinUpInt=b._spinDownInt=null},_updateIfDirty:function(){var b=this,c=a(b.textElement);b._dirty&&(b.value(c.val()),b._dirty=!1)},_updateValue:function(b,c,d){var e,f=this,g=f.options,h=g.min,i=g.max,j=g.step,k=a(f.textElement),l=!1;f._enabled&&(f._updateIfDirty(),e=f.value(),J(e)||(e=0),c=!J(c)||!!c,d=!J(d)||!!d,"inc"==b?e<i&&(f.value(e+j),l=!0):"dec"==b?e>h&&(f.value(e-j),l=!0):"min"==b?(f.value(h),l=!0):"max"==b&&(f.value(i),l=!0),d&&(k.focus(),g.editable&&kb(k)),l&&!c&&f.trigger(Pa,{value:f.value()}))},increment:function(){this._updateValue("inc",!0,!1)},decrement:function(){this._updateValue("dec",!0,!1)},value:function(){var b,c,d=this,e=d.options,f=[].slice.call(arguments),g=d.element,h=a(d.textElement);return f.length>0?(J(f[0])&&null!==f[0]&&""!==f[0]?(b=T(S(f[0],e.max),e.min),b=P.call(d,e.valueTemplate,b),b=N(b),c=P.call(d,e.textTemplate,b)+""):(b=null,c=""),e.editable?d._hasFocus&&d._enabled?h.val(b):h.val(c):h.html(c),d._value(b),null!==b?g.attr(ka,b):g.removeAttr(ka),g.attr(na,jb(c)),void 0):N(d._value())},_value:function(){return this._original.attr.apply(this._original,[Va].concat([].slice.call(arguments)))},enabled:function(){var b,c=this,d=a(c.element),e=[].slice.call(arguments);return e.length>0?(b=!!e[0],b?d.removeAttr(xa).removeClass("sui-numeric-textbox-disabled"):d.attr(xa,xa).addClass("sui-numeric-textbox-disabled"),c._enabled=b,void 0):c._enabled},focus:function(){a(this.textElement).focus(),kb(a(this.textElement))},destroy:function(){var b=this;b._destroyed=!0,b.options.spinners&&(a(b.spinUp).off(b._eventNS).remove(),a(b.spinDown).off(b._eventNS).remove(),b.spinUp=b.spinDown=null),a(b.textElement).off(b._eventNS).remove(),b.textElement=null,b._original.unwrap().show(),b._original=null,C.fn.destroy.call(b)}}),l.defaults=k,b.ui.plugin("NumericTextBox",l),m={enabled:!0,mask:"00-00-0000",promptChar:"_",value:"",rules:{0:function(a){return/^[0-9]$/.test(a)},9:function(a){return/^[0-9 ]$/.test(a)},"#":function(a){return/^[0-9 \+\-]$/.test(a)},L:function(a){return/^[a-zA-Z]$/.test(a)},"?":function(a){return/^[a-zA-Z ]$/.test(a)},"&":function(a){return/^[\S]$/.test(a)},C:function(a){return/^[.]$/.test(a)},A:function(a){return/^[0-9a-zA-Z]$/.test(a)},a:function(a){return/^[0-9a-zA-Z ]$/.test(a)}},cultureSpecific:[".",",","$"],separators:["/","-"," ","(",")"],cls:d,events:{}},n=C.extend({init:function(){C.fn.init.apply(this,arguments);var b=this,c=b.options,d=c.dieOnError,e=c.value,f=a(b.element);return ib(f)!=fb?void G("shieldMaskedTextBox: Underlying element is not INPUT",d):b._verifyMask()?(b._eventNS=".shieldMaskedTextBox"+b.getInstanceId(),f.addClass("sui-input"),c.cls&&f.addClass(c.cls),J(e)&&b.value(e),f.on(Qa+b._eventNS,X(b._focus,b)).on(Ra+b._eventNS,X(b._blur,b)).on(Ga+b._eventNS,X(b._keydown,b)).on(Ha+b._eventNS,X(b._keypress,b)).on(Ja+b._eventNS,X(b._cut,b)).on(Ka+b._eventNS,X(b._paste,b)).on(La+b._eventNS,X(b._dragstart,b)).on(Ma+b._eventNS,X(b._dragenter,b)).on(Na+b._eventNS,X(b._dragover,b)).on(Oa+b._eventNS,X(b._drop,b)),f.attr($,ca),void b.enabled(c.enabled)):void G("shieldMaskedTextBox: Invalid mask",d)},_getMask:function(){var a,b,c=this,d=c.options.mask,e="";for(b=0;b<d.length;b++)a=d.charAt(b),e+=c._isCultureSpecific(a)?c._getCultureSpecific(a):a;return e},_isCultureSpecific:function(a){return Y(a,this.options.cultureSpecific)!==-1},_getCultureSpecific:function(a){var c=b.getCurrencyInfo();return"$"==a?c.symbol:c[a]},_skipSymbol:function(a){var b=this,c=b.options.separators;return Y(a,c)!==-1||b._isCultureSpecific(a)},_insertAt:function(a,b,c){return a.substr(0,c)+b+a.substr(c)},_removeAt:function(a,b){return a.substr(0,b)+a.substr(b+1)},_caret:function(b,c){var d,e=this,f=a(e.element);if(0!==f.length&&!f.is(":hidden"))return"number"==typeof b?(c="number"==typeof c?c:b,f.each(function(){f.setSelectionRange?f.setSelectionRange(b,c):f.createTextRange&&(d=f.createTextRange(),d.collapse(!0),d.moveEnd("character",c),d.moveStart("character",b),d.select())})):(f[0].setSelectionRange?(b=f[0].selectionStart,c=f[0].selectionEnd):R.selection&&R.selection.createRange&&(d=R.selection.createRange(),b=0-d.duplicate().moveStart("character",-1e5),c=b+d.text.length),{begin:b,end:c})},_caretTo:function(b){var c=this,e=a(c.element);if(e.prop("selectionStart")!==d)e.prop("selectionStart",b),e.prop("selectionEnd",b);else if(R.selection){e.focus();var f=R.selection.createRange();f.moveStart("character",-c.value().length),f.moveEnd("character",-c.value().length),f.moveStart("character",b),f.select()}},_isValid:function(a,b){var c,d=this,e=d._getMask(),f=d.options.rules;return!(b>=e.length)&&(c=e.charAt(b),H(f[c])&&f[c].call(d,a))},_removeRegion:function(a){var b,c,d=this,e=d.options,f=d._getMask(),g=d._value(),h=d._caret(),i=e.promptChar,j=h.begin;if(j==h.end)a?(b=f.charAt(--j),d._skipSymbol(b)||(j>=0?(g=d._removeAt(g,j),g=d._insertAt(g,i,j),d._value(g)):j=0)):j<g.length&&(b=f.charAt(j),d._skipSymbol(b)?j++:(g=d._shiftLeft(g,j),d._value(g)));else{for(c=j;c<h.end;c++)d._skipSymbol(f.charAt(c))||(g=d._removeAt(g,c),g=d._insertAt(g,i,c));for(;d._skipSymbol(f.charAt(j));)++j;for(c=j;c<h.end;c++)d._skipSymbol(f.charAt(c))||(g=d._shiftLeft(g,j));d._value(g)}d._caretTo(j)},_shiftLeft:function(a,b){for(var c,d,e,f=this,g=f.options,h=f._getMask(),i=g.promptChar,j=b;j<a.length-1;){for(e=j+1;f._skipSymbol(h.charAt(e));)e++;if(e>a.length-1)break;c=a.charAt(e),a=f._removeAt(a,j),d=f._isValid(c,j),a=f._insertAt(a,d?c:i,j),j=e}return a=f._removeAt(a,j),a=f._insertAt(a,i,j)},_shiftRightKey:function(a,b){var c,d,e,f=this,g=f.options,h=f._getMask(),i=a.charAt(b),j=g.promptChar;if(i!=j&&b<a.length-1){for(var k=b+1,l=a.charAt(k);l!=j&&k<=a.length;)l=a.charAt(++k);if(l==j)for(var m=k;m>b;){if(!f._skipSymbol(h.charAt(m))){for(d=m-1,c=a.charAt(d);f._skipSymbol(h.charAt(d));)c=a.charAt(--d);a=f._removeAt(a,m),e=f._isValid(c,m),a=f._insertAt(a,e?c:j,m)}m--}}return a},_shiftRightPaste:function(a,b){var c,d,e,f,g=this,h=g.options,i=g._getMask(),j=h.promptChar,k=b;for(d=a.charAt(k);k<a.length-1;){for(e=k+1;g._skipSymbol(i.charAt(e));)e++;if(e>a.length-1)break;c=a.charAt(e),a=g._removeAt(a,e),f=g._isValid(d,e),a=g._insertAt(a,f?d:j,e),d=c,k=e}return a},_commit:function(a){for(var b,c=this,d=c._getMask(),e=c._caret(),f=e.begin;c._skipSymbol(d.charAt(f));)++f;if(c._isValid(a,f)){for(e.end>e.begin&&c._removeRegion(!1),b=c._value(),b=c._shiftRightKey(b,f),b=c._removeAt(b,f),b=c._insertAt(b,a,f),c._value(b),f++;c._skipSymbol(d.charAt(f));)f++;c._caretTo(f)}},_verifyValue:function(a){var b=this,c=b._getMask();if(a.length!=c.length)return!1;for(var d=0;d<c.length;d++)if(b._skipSymbol(c.charAt(d))){if(c.charAt(d)!==a.charAt(d))return!1}else if(!b._isValid(a.charAt(d),d))return!1;return!0},_verifyMask:function(){for(var a,b=this,c=b._getMask(),d=b.options.rules,e=0;e<c.length;e++)if(!b._skipSymbol(c.charAt(e))&&(a=c.charAt(e),!H(d[a])))return!1;return!0},_applyMask:function(){for(var a=this,b=a.options,c=a._getMask(),d=b.promptChar,e="",f=0;f<c.length;f++)e+=a._skipSymbol(c.charAt(f))?c.charAt(f):d;a._value(e)},_isEmptyMask:function(){for(var a=this,b=a._value(),c=a.options,d=a._getMask(),e=c.promptChar,f=0;f<d.length;f++)if(!a._skipSymbol(d.charAt(f))&&b.charAt(f)!==e)return!1;return!0},_clearMaskOnBlur:function(){this._isEmptyMask()&&this._value("")},_focus:function(b){var c,d=this;a(d.element).addClass("sui-input-focus"),c=d._value(),c&&""!==c||d._applyMask(),d.trigger(Qa)},_blur:function(a){this._clearMaskOnBlur(),this.trigger(Ra)},_preventDrag:function(a){if(a.type==La||a.type==Ma||a.type==Na||a.type==Oa){var b=a.originalEvent.dataTransfer;return a.type==La?b.effectAllowed="none":b.dropEffect="none",a.stopPropagation&&(a.preventDefault(),a.stopPropagation()),!1}},_triggerChange:function(a){var b,c=this;a!==c._value()&&(b=c.trigger(Pa,{value:c._value(),old:a}),b.isDefaultPrevented()&&c._value(c.oldValue)),clearInterval(c.changeInterval),c.changeInterval=d},_dragstart:function(a){return this._preventDrag(a)},_dragenter:function(a){return this._preventDrag(a)},_dragover:function(a){return this._preventDrag(a)},_drop:function(a){return this._preventDrag(a)},_keydown:function(a){var b=this,c=a.keyCode,e=b._enabled,f=b._value();switch(e||a.preventDefault(),c){case F.BACK:case F.DEL:b._removeRegion(c==F.BACK),b.changeInterval===d&&(b.changeInterval=setInterval(X(b._triggerChange,b,f),20)),a.preventDefault();break;default:if(a.ctrlKey)switch(c){case 118:case 86:case 122:case 90:case 121:case 89:118==c||86==c?b._paste(a):122!=c&&90!=c||(b._undo(),b.changeInterval===d&&(b.changeInterval=setInterval(X(b._triggerChange,b,f),20))),a.preventDefault()}}},_keypress:function(a){var b,c=this,e=a.keyCode,f=a.which,g=(c._enabled,c._value());if(!a.ctrlKey){switch(e){case F.HOME:case F.END:case F.LEFT:case F.RIGHT:case F.TAB:if(!O.ie)return;break;default:b=String.fromCharCode(f),c._commit(b)}a.preventDefault(),c.changeInterval===d&&g!=c._value()&&(c.changeInterval=setInterval(X(c._triggerChange,c,g),20))}},_cut:function(a){var b=this,c=b._caret();b.cutInterval===d&&(b.cutInterval=setInterval(X(b._aftercut,b,c),20))},_aftercut:function(a){var b,c=this,e=c._getMask(),f=c.value(),g=f,h=c.options.promptChar,i=a.begin;for(b=i;b<a.end;b++)f=c._insertAt(f,c._skipSymbol(e.charAt(b))?e.charAt(b):h,b);for(c._value(f),c._caretTo(i);c._skipSymbol(e.charAt(i));)++i;for(var j=i;j<a.end;j++)c._skipSymbol(e.charAt(j))||(f=c._shiftLeft(f,i));c._value(f),c._caretTo(i),clearInterval(c.cutInterval),c.cutInterval=d,c._triggerChange(g)},_paste:function(a){var b,e,f,g,h=this,i=h._getMask(),j=h._value(),k=j,l=h._caret(),m=l.begin,n=h.options.promptChar,o=a.originalEvent||a;if(m==j.length)return void a.preventDefault();if(o.clipboardData?b=o.clipboardData.getData("text/plain"):c.clipboardData&&(b=c.clipboardData.getData("Text")),null==b)return void a.preventDefault();if(m==l.end){for(;h._skipSymbol(i.charAt(m));)m++;for(g=b.length-1;g>=0;g--)j=h._shiftRightPaste(j,m),j=h._removeAt(j,m),e=h._isValid(b.charAt(g),m),j=h._insertAt(j,e?b.charAt(g):n,m);m+=b.length}else{for(f=m;f<l.end;f++)h._skipSymbol(i.charAt(f))||(j=h._removeAt(j,f),j=h._insertAt(j,n,f));for(g=0;g<b.length;g++){for(;h._skipSymbol(i.charAt(m));)m++;j=h._removeAt(j,m),e=h._isValid(b.charAt(g),m),j=h._insertAt(j,e?b.charAt(g):n,m),m++}}h._value(j),h._caretTo(m),a.preventDefault(),h.changeInterval===d&&(h.changeInterval=setInterval(X(h._triggerChange,h,k),20))},_undo:function(){var a=this;a._applyMask()},_value:function(){return this.element.val.apply(this.element,arguments)},value:function(){if(arguments.length>0){var a=[].slice.call(arguments);if(!this._verifyValue(a[0]))return!1}return this._value.apply(this,arguments)},enabled:function(){var b,c=this,d=a(c.element),e=[].slice.call(arguments);return e.length>0?(b=!!e[0],b?d.removeAttr(xa).removeClass("sui-input-disabled"):d.attr(xa,xa).addClass("sui-input-disabled"),c._enabled=b,void 0):c._enabled},destroy:function(){var a=this,b=a.options.cls;a.element.off(a._eventNS).removeClass("sui-input"+(b?" "+b:"")),C.fn.destroy.call(a)}}),n.defaults=m,b.ui.plugin("MaskedTextBox",n),o={editable:!0,enabled:!0,open:!1,cls:d,dataSource:d,autoComplete:{enabled:!1,delay:200,minLength:0,filter:d},valueTemplate:d,textTemplate:d,inputTemplate:d,selected:d,value:d,width:d,height:d,dropDownWidth:d,dropDownHeight:200,appendListBoxTo:"body",animation:{enabled:!0,openDelay:200,closeDelay:100},events:{}},p=C.extend({init:function(){C.fn.init.apply(this,arguments);var b,d,e,g,h,i,j,k=this,l=k.options,m=l.editable,n=l.dieOnError,o=l.dataSource,p=l.autoComplete,q=l.selected,r=l.value,s=l.appendListBoxTo,t=l.tooltip||a(k.element).attr(wa)||"";return k._original=b=a(k.element),k._utype=ib(b),o||k._utype==eb?(k._eventNS=".shieldComboBox"+k.getInstanceId(),k.pending=0,k.element=g=b.wrap("<span/>").parent(),b.hide(),k._onDDHandler=X(k._onDD,k),m?(h=a('<input type="text" class="sui-input"/>').focus(function(){a(this).parent().addClass("sui-combobox-focus")}).blur(function(){a(this).parent().removeClass("sui-combobox-focus"),k._blur()}).attr($,ca).attr(ja,aa),e=b.attr(Wa),J(e)&&h.attr(Wa,e)):h=a('<span class="sui-input sui-unselectable">&nbsp;</span>').attr(Ya,Za).on(Fa+k._eventNS,k._onDDHandler).on(Xa+k._eventNS,function(){return!1}),k.textElement=h,h.appendTo(g),k.ddElement=i=a('<span class="sui-caret-container sui-unselectable"/>').html('<span class="sui-caret sui-unselectable" unselectable="on"/>').attr(Ya,Za).on(Fa+k._eventNS,k._onDDHandler).appendTo(g),g.addClass(m?"sui-combobox":"sui-dropdown"),l.cls&&g.addClass(l.cls),d=b.attr(Ba),m?h.attr(Ba,J(d)?d:"0"):g.attr(Ba,J(d)?d:"0"),J(l.width)&&g.css($a,l.width),J(l.height)&&(g.css(_a,l.height),h.css(_a,l.height),i.css(_a,l.height)),g.on(Ga+k._eventNS,X(k._keydown,k)).on(Ia+k._eventNS,X(k._keyup,k)),k._focusHandler=X(k._focus,k),m?h.on(Qa+k._eventNS,k._focusHandler):g.on(Qa+k._eventNS,k._focusHandler),g.on(Ra+k._eventNS,X(k._blur,k)),k.listElement=a("<span/>").appendTo(a(s)),p&&(j=J(p.filter)?p.filter:o&&o.filter?o.filter:k._utype==eb?{and:[{path:"text",filter:"contains",value:""}]}:{and:[{path:"",filter:"contains",value:""}]}),k.listBox=new f(b,{cls:"sui-autocomplete",dataSource:o,readDataSource:!1,valueTemplate:l.valueTemplate,textTemplate:l.textTemplate,multiple:!1,selected:J(q)&&I(q)?q[0]:q,values:r,width:l.dropDownWidth||g.innerWidth(),maxHeight:l.dropDownHeight,renderToINTERNAL:k.listElement,wrapOriginalINTERNAL:!1,tabindexINTERNAL:O.ie&&O.version<=8?0:-1,filterINTERNAL:j,events:{select:function(a){k._onLBSelChanged(),k.trigger(Ta,{index:a.index,item:a.item,text:a.text,value:a.value})},itemclick:function(a){m?h.focus():g.focus(),k._hideDD(),k.trigger(Aa,{index:a.index,item:a.item,text:a.text,value:a.value})},blur:function(a){setTimeout(X(k._blur,k),20);
}}}),k.listBox.element.hide(),k.dataSource=k.listBox.dataSource,k.listBox.dataSource.on(Pa+k._eventNS,X(k._dsChange,k)),l.textTemplate=k.listBox.options.textTemplate,l.valueTemplate=k.listBox.options.valueTemplate,g.attr($,"combobox"),m&&(h.attr(ha,"list"),h.attr(ta,k.listBox.element.attr(Z)),h.attr(pa,k.listBox.element.attr($))),k.listBox.dataSource.read(),a(c).on(Sa+k._eventNS,X(k._position,k)),t&&K(t)&&g.attr(wa,t),k.enabled(l.enabled),k._open=!1,l.enabled&&l.open&&k._showDD(!0),void(k._destroyed=!1)):(k.destroy(),void G((m?"shieldComboBox":"shieldDropDown")+": No dataSource or underlying SELECT element found.",n))},refresh:function(a){this.refreshWithElement(this._original,a)},focus:function(){var b=this;b.options.editable?(a(b.textElement).focus(),kb(a(b.textElement))):a(b.element).focus()},_focus:function(a){var b=this;b._hasFocus||(b._hasFocus=!0,b._oldValue=b.value(),b.trigger(Qa))},_blur:function(b){var c=this;setTimeout(function(){c._destroyed||null==c.listBox||a(c.listBox.element).is(":focus")||a(c.element).is(":focus")||a(c.textElement).is(":focus")||(c._hideDD(),c._oldValue!==c.value()&&c.trigger(Pa),c.trigger(Ra),c._hasFocus=!1)},100)},_keydown:function(a){var b=this;switch(a.keyCode){case F.TAB:break;case F.UP:case F.DOWN:b._keydownUpDown(a),a.preventDefault();break;case F.ESC:case F.ENTER:a.preventDefault(),b.cancelSearch=!0,b._hideDD();break;default:b._keydownDefault(a)}},_keyup:function(b){var c=this,d=b.keyCode;c.options.editable&&c._utype==fb&&d!=F.UP&&d!=F.DOWN&&d!=F.ENTER&&d!=F.TAB&&a(c._original).attr(Va,a(c.textElement).val())},_keydownUpDown:function(b){this._enabled&&a(this.listBox.element).trigger(b)},_keydownDefault:function(a){var b=this;b.listBox.clearSelection(),b._searchTimeout(a)},_searchTimeout:function(b){var c=this,d=c.options.autoComplete;d&&d.enabled&&(clearTimeout(c.searchTimeout),c.searchTimeout=setTimeout(function(){c.term!==a(c.textElement).val()&&c._search()},d.delay))},_search:function(){var b=this;b.listBox.dataSource;return b.term=a(b.textElement).val(),b.term.length<b.options.autoComplete.minLength?void b._hideDD():(b.cancelSearch=!1,b.pending++,a(b.textElement).addClass("sui-autocomplete-loading"),mb(b.listBox.dataSource.filter,b.term),void b.listBox.dataSource.read())},_dsChange:function(){var b=this,c=b._original,d=b._utype,e=b.textElement.val();return b._dsLoaded?(b.pending--,b.pending||a(b.textElement).removeClass("sui-autocomplete-loading"),!b.cancelSearch&&b._hasData()?b._showDD(!0):b._hideDD(),d==eb?c.val(e):d==fb&&c.attr(Va,e),void b.trigger(Ta,{index:-1,item:e})):(b._dsLoaded=!0,!b.options.editable&&b.listBox.selected().length<=0&&b.listBox.selected(0),void b._onLBSelChanged())},_hasData:function(){var a=this.listBox.dataSource.view;return a&&a.length>0},_onLBSelChanged:function(){var a,b,c,d=this,e=d.options,f=e.editable,g=d.listBox,h=g.selectedItems();h&&h.length>0?(a=P.call(d,e.valueTemplate,h[0]),b=P.call(d,e.textTemplate,h[0]),c=J(e.inputTemplate)?P.call(d,e.inputTemplate,h[0]):b,f?(d.textElement.val(c),d.textElement.attr(ia,g.element.attr(ia))):d.textElement.html(c)):f?(d.textElement.val(""),d.textElement.removeAttr(ia)):d.textElement.html("&nbsp;")},_onDD:function(a){var b=this,c=b.textElement;b.options.editable?(c.focus(),kb(c)):b.element.focus(),b._open?b._hideDD():b._hasData()&&b._showDD(!1)},_position:function(){var b=this,c=a(b.element),d=a(b.listBox.element);d.width(b.options.dropDownWidth||c.innerWidth()),E.Set(d,c,{source:"left top",target:"left bottom",overflow:"none"})},_showDD:function(b){var c=this,d=c.listBox,e=a(d.element),f=c.options.animation;c._enabled&&(e.css({top:0,left:0}),e.show(),c._position(),!b&&f&&f.enabled?e.hide().slideDown(f.openDelay,X(d.ensureActiveViewableINTERNAL,d)):d.ensureActiveViewableINTERNAL(),c._open=!0,a(c.element).attr(ua,_))},_hideDD:function(){var b=this,c=a(b.listBox.element),d=b.options.animation;d&&d.enabled?c.slideUp(d.closeDelay):c.hide(),b._open=!1,a(b.element).attr(ua,aa)},enabled:function(){var b,c=this,d=c.options.editable,e=a(c.element),f=c.textElement,g=c.ddElement,h=c._original,i=[].slice.call(arguments);return i.length>0?(b=!!i[0],b?(e.removeAttr(xa).removeClass(d?"sui-combobox-disabled":"sui-dropdown-disabled"),f.removeAttr(xa),g.removeAttr(xa),h.removeAttr(xa)):(c._open&&c._hideDD(),e.attr(xa,xa).addClass(d?"sui-combobox-disabled":"sui-dropdown-disabled"),f.attr(xa,xa),g.attr(xa,xa),h.attr(xa,xa)),c._enabled=b,void 0):c._enabled},selected:function(){var a,b=this,c=b.listBox,d=[].slice.call(arguments);return d.length>0?(a=d[0],c.clearSelection(),J(a)&&(a=M(a),a>-1?c.selected(a):b.options.editable||c.selected(0)),b._onLBSelChanged(),void 0):(a=c.selected(),a&&a.length>0?a[0]:-1)},selectedItem:function(){var a=this,b=a.listBox.selectedItems();return b&&b.length>0?b[0]:null},value:function(){var b,c=this,d=c.listBox,e=[].slice.call(arguments);return e.length>0?(d.clearSelection(),d.values(e[0]),c._onLBSelChanged(),void 0):(b=d.values(),b&&b.length>0?b[0]:c.options.editable?a(c.textElement).val():null)},text:function(){var b=this,c=b.listBox.texts();return c&&c.length>0?c[0]:b.options.editable?a(b.textElement).val():null},destroy:function(){var b=this,d=a(b.element),e=a(b.textElement),f=a(b.ddElement);b._destroyed||(b._destroyed=!0,b._dsLoaded=!1,e.off(b._eventNS),f.off(b._eventNS),b._onDDHandler=null,a(c).off(Sa+b._eventNS),d.off(b._eventNS),b.dataSource=null,b.listBox&&(b.listBox.dataSource.off(Pa+b._eventNS),b.listBox.destroy(),b.listBox=null),a(b.listElement).remove(),e.remove(),f.remove(),b._original.unwrap().show(),b._original=null,C.fn.destroy.call(b))}}),p.defaults=o,b.ui.plugin("ComboBox",p),q=V({},o,{editable:!1,autoComplete:d}),r=p.extend({init:function(a,b){b&&(b.editable=!1,b.autoComplete=d),p.prototype.init.call(this,a,b)}}),r.defaults=q,b.ui.plugin("DropDown",r),s={enabled:!0,cls:d,toggle:!1,checked:!1,events:{}},t=C.extend({init:function(){C.fn.init.apply(this,arguments);var b=this,c=a(b.element),d=b.options,e=d.cls;b._eventNS=".shieldButton"+b.getInstanceId(),c.addClass("sui-button"),e&&c.addClass(e),c.on(Fa+b._eventNS,X(b._click,b)),c.attr($,da),b.enabled(d.enabled),d.toggle&&(b._checked=!!d.checked,b._checked?c.addClass("sui-button-checked"):c.removeClass("sui-button-checked"),c.attr(fa+"-pressed",b._checked?_:aa))},_click:function(b){var c=this,d=a(c.element);c._enabled&&(c.options.toggle&&(c._checked=!c._checked,c._checked?d.addClass("sui-button-checked"):d.removeClass("sui-button-checked"),d.attr(fa+"-pressed",c._checked?_:aa)),c.trigger(Fa,b))},checked:function(){var b=this,c=a(b.element),d=[].slice.call(arguments);return d.length>0?void(b.options.toggle&&(b._checked=!!d[0],b._checked?c.addClass("sui-button-checked"):c.removeClass("sui-button-checked"),c.attr(fa+"-pressed",b._checked?_:aa))):b._checked},enabled:function(){var b,c=this,d=a(c.element),e=[].slice.call(arguments);return e.length>0?(b=!!e[0],b?d.removeAttr(xa).removeClass("sui-button-disabled").removeAttr(oa):d.attr(xa,xa).addClass("sui-button-disabled").attr(oa,_),c._enabled=b,void 0):c._enabled},destroy:function(){var a=this,b=a.options.cls;a.element.off(Fa+a._eventNS).removeClass("sui-button sui-button-checked sui-button-disabled"+(b?" "+b:"")),C.fn.destroy.call(a)}}),t.defaults=s,b.ui.plugin("Button",t),u=V({},s,{menu:d,dataSource:d,events:{}}),v=t.extend({init:function(){if(t.fn.init.apply(this,arguments),b.ui.ContextMenu){var c=this,d=a(c.element),e=c.options,f=e.menu,g=e.cls;c._handle=a('<button type="button"><span class="sui-caret-down"/></button>'),d.after(c._handle),c._handleButton=new t(c._handle,{cls:"sui-button-split-handle"+(g?" "+g:""),events:{click:function(b){if(c.menu.visible())c.menu.visible(!1);else{var e=a(d).offset();c.menu.visible(!0,{x:e.left,y:e.top+a(d).outerHeight()})}}}}),J(f)?c._menuElement=a(f):(c._menuElement=a("<ul/>"),c._customMenuElement=!0,c._handle.after(c._menuElement)),c._menuElement.attr(Z)||c._menuElement.attr(Z,Q()),c.menu=new b.ui.ContextMenu(c._menuElement,{cls:"sui-button-split-menu",dataSource:e.dataSource,minWidth:d.outerWidth()+c._handle.outerWidth()-2,events:{click:X(c.trigger,c,"menuClick")}}),a(c._handle).attr(pa,_).attr(ta,c._menuElement.attr(Z))}},enabled:function(){var a=this;return arguments&&arguments.length>0?(t.fn.enabled.apply(a,arguments),a._handleButton&&a._handleButton.enabled.apply(a._handleButton,arguments),a.menu&&!arguments[0]&&a.menu.visible(!1),void 0):t.fn.enabled.apply(a,arguments)},visible:function(){var a=this;return arguments&&arguments.length>0?(t.fn.visible.apply(a,arguments),a._handleButton&&a._handleButton.visible.apply(a._handleButton,arguments),a.menu&&!arguments[0]&&a.menu.visible(!1),void 0):t.fn.visible.apply(a,arguments)},destroy:function(){var b=this;b.menu&&(b.menu.destroy(),b.menu=d),b._menuElement&&(b._customMenuElement&&(a(b._menuElement).remove(),b._customMenuElement=d),b._menuElement=d),b._handleButton&&(b._handleButton.destroy(),b._handleButton=d),b._handle&&(a(b._handle).remove(),b._handle=d),t.fn.destroy.call(b)}}),v.defaults=u,b.ui.plugin("SplitButton",v),w={enabled:!0,enableThreeStates:!1,enableLabelClick:!0,checked:!1,label:"",events:{}},x=C.extend({init:function(){var b,c,d,e,f,g=this;C.fn.init.apply(this,arguments),g._eventNS=".shieldCheckBox"+g.getInstanceId(),b=g.options;var h=a(g.element).addClass("sui-checkbox-input");f=h.attr(Z),f||h.attr(Z,f=Q()),d=h.attr(Ba),e=g.wrapper=h.wrap('<span class="sui-checkbox"/>').parent().attr(Ba,J(d)?d:0);var i=a('<span class="sui-checkbox-element sui-checkbox-unchecked"/>');if(i.appendTo(e),g.checkBoxElement=i,a('<span class="sui-checkmark"/>').appendTo(i),b.label?(c=a('<label class="sui-checkbox-label"/>'),c.appendTo(e),c.attr("for",f),c.get(0).innerHTML=b.label,b.enableLabelClick&&c.addClass("sui-checkbox-label-hover")):(c=h.parent().parent(),c&&!c.is("label")&&(c=a('label[for="'+f+'"]')),c&&b.enableLabelClick&&c.addClass("sui-checkbox-label-hover")),e.attr($,"checkbox"),c){var j=c.attr(Z);j||c.attr(Z,j=Q()),e.attr(sa,j)}h.attr(ya)&&(b.checked=!0),g.enabled(b.enabled),g.checked(b.checked),e.on(Fa+g._eventNS,X(g._click,g)).on(Ga+g._eventNS,X(g._keydown,g)),c&&b.enableLabelClick&&c.on(Fa+g._eventNS,X(g._click,g)).on(Ga+g._eventNS,X(g._keydown,g)),e.onselectstart=function(){return!1},e.onmousedown=function(){return!1}},_click:function(b){var c=this;a(c.element);c._enabled&&(c._checked?c.options.enableThreeStates?c._checked=null:c._checked=!1:c._checked===!1?c._checked=!0:null===c._checked&&(c._checked=!1),c.checked(c._checked),c.trigger(Fa,b),b.preventDefault(),b.stopPropagation())},_keydown:function(a){a.keyCode==F.SPACE&&this._click(a)},hide:function(){a(this.wrapper).hide()},show:function(){a(this.wrapper).show()},isVisible:function(){return a(this.wrapper).is(":visible")},checked:function(){var b,c=this,d=[].slice.call(arguments),e=a(c.element),f=c.wrapper,g=f.find(".sui-checkmark");return d.length>0?(c._checked=b=d[0],void(b?(f.find(".sui-checkbox-element").removeClass("sui-checkbox-unchecked sui-checkbox-indeterminate").addClass("sui-checkbox-checked"),f.attr(qa,_),e.attr(ya,ya),e.data("1"),O.ie&&O.version<=8&&g.css("filter","progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.7071067811865476, M12=0.7071067811865475, M21=-0.7071067811865475, M22=0.7071067811865476)")):b===!1?(f.find(".sui-checkbox-element").removeClass("sui-checkbox-checked sui-checkbox-indeterminate").addClass("sui-checkbox-unchecked"),f.attr(qa,aa),e.removeAttr(ya),e.data("0"),g.css("filter","")):null===b&&c.options.enableThreeStates&&(f.find(".sui-checkbox-element").removeClass("sui-checkbox-checked sui-checkbox-unchecked").addClass("sui-checkbox-indeterminate"),f.attr(qa,"mixed"),e.removeAttr(ya),e.data("2"),g.css("filter","")))):c._checked},enabled:function(){var b=this,c=[].slice.call(arguments),d=a(b.element);if(!(c.length>0))return b._enabled;var e=!!c[0];e?(b.wrapper.removeAttr(xa).removeClass("sui-checkbox-disabled"),d.removeAttr(xa)):(b.wrapper.attr(xa,xa).addClass("sui-checkbox-disabled"),d.attr(xa,xa)),b._enabled=e},destroy:function(){var a=this;a.element.removeClass("sui-checkbox-input").removeAttr(Ba),a.checkBoxElement&&a.checkBoxElement.off(a._eventNS),a.wrapper&&(a.wrapper.find(".sui-checkbox-label").off(a._eventNS).end().removeAttr(xa).removeClass("sui-checkbox-disabled").replaceWith(a.element),a.wrapper=null),C.fn.destroy.call(a)}}),x.defaults=w,b.ui.plugin("CheckBox",x),y={enabled:!0,enableLabelClick:!0,checked:!1,label:"",events:{}},z=C.extend({init:function(){C.fn.init.apply(this,arguments);var b,c,d,e,f=this,g=a(f.element),h=f.options;f._eventNS=".shieldRadioButton"+f.getInstanceId(),g.addClass("sui-radiobutton-input"),e=g.attr(Z),e||g.attr(Z,e=Q()),c=g.attr(Ba),d=f.wrapper=g.wrap('<span class="sui-radiobutton"/>').parent(),d.attr(Ba,J(c)?c:0);var i=a('<span class="sui-radiobutton-element"/>');if(i.appendTo(d),f.radioButtonElement=i,a('<span class="sui-checkmark"/>').appendTo(i),h.label?(b=a('<label class="sui-radiobutton-label"/>'),b.appendTo(d),b.attr("for",e),b.get(0).innerHTML=h.label,h.enableLabelClick&&b.addClass("sui-radiobutton-label-hover")):(b=g.parent().parent(),b&&!b.is("label")&&(b=a('label[for="'+e+'"]')),b&&h.enableLabelClick&&b.addClass("sui-radiobutton-label-hover")),d.attr($,"radio"),b){var j=b.attr(Z);j||b.attr(Z,j=Q()),d.attr(sa,j)}g.attr(ya)&&(h.checked=!0),f.enabled(h.enabled),h.checked?f.checked(h.checked):f._checked=!1,d.on(Fa+f._eventNS,X(f._click,f)).on(Ga+f._eventNS,X(f._keydown,f)),b&&h.enableLabelClick&&b.on(Fa+f._eventNS,X(f._click,f)).on(Ga+f._eventNS,X(f._keydown,f)),d.onselectstart=function(){return!1},d.onmousedown=function(){return!1}},_click:function(a){var b=this;b._enabled&&(b.checked(!0),b.trigger(Fa,a),a.preventDefault(),a.stopPropagation())},_keydown:function(a){a.keyCode==F.SPACE&&this._click(a)},hide:function(){a(this.wrapper).hide()},show:function(){a(this.wrapper).show()},isVisible:function(){return a(this.wrapper).is(":visible")},checked:function(){var a=this,b=[].slice.call(arguments);return b.length>0?(a._uncheckAllFromSameGroup(),void a._checkInternal(b[0])):a._checked},_checkInternal:function(b){var c=this,d=a(c.element),e=c.wrapper;c._checked=b,b?(e.find(".sui-radiobutton-element").removeClass("sui-radiobutton-unchecked sui-radiobutton-indeterminate").addClass("sui-radiobutton-checked"),e.attr(qa,_),d.attr(ya,ya)):(e.find(".sui-radiobutton-element").removeClass("sui-radiobutton-checked"),e.attr(qa,aa),d.removeAttr(ya))},_uncheckAllFromSameGroup:function(){var b=this,c=a(b.element);a('input[type="radio"][name="'+c.attr("name")+'"]').not(c).each(function(){var b=a(this).swidget();b&&(b._checkInternal(!1),b.trigger(Pa))})},enabled:function(){var b=this,c=[].slice.call(arguments),d=a(b.element);if(!(c.length>0))return b._enabled;var e=!!c[0];e?(b.wrapper.removeAttr(xa).removeClass("sui-radiobutton-disabled"),d.removeAttr(xa)):(b.wrapper.attr(xa,xa).addClass("sui-radiobutton-disabled"),d.attr(xa,xa)),b._enabled=e},destroy:function(){var a=this;a.element.removeClass("sui-radiobutton-input").removeAttr(Ba),a.radioButtonElement&&(a.radioButtonElement.off(a._eventNS),a.radioButtonElement=null),a.wrapper&&(a.label&&(a.label.off(a._eventNS),a.label=null),a.wrapper.removeAttr(xa).removeClass("sui-radiobutton-disabled"),a.wrapper.replaceWith(a.element),a.wrapper=null),C.fn.destroy.call(a)}}),z.defaults=y,b.ui.plugin("RadioButton",z),A={cls:d,enabled:!0,checked:d,onText:d,offText:d,events:{}},B=C.extend({init:function(){C.fn.init.apply(this,arguments);var b,c,d,e,f,g=this,h=g.options,i=h.dieOnError,j=h.cls,k=h.checked;return g._original=b=a(g.element),ib(b)!==fb||"checkbox"!==b.attr("type")?void G("shieldSwitch: Underlying element must ne an input of type checkbox.",i):(g._eventNS=".shieldSwitch"+g.getInstanceId(),g.element=d=b.wrap('<div class="sui-switch sui-unselectable'+(j?" "+j:"")+'" />').parent(),f=a('<div class="sui-switch-inner sui-unselectable" />').appendTo(d),g._text=a('<span class="sui-switch-text sui-unselectable" />').appendTo(f),g._handle=e=a('<div class="sui-switch-handle sui-unselectable" />').appendTo(d),e.height(d.height()),b.hide(),c=b.attr(Ba),d.attr(Ba,J(c)?c:"0"),d.on(Fa+g._eventNS,X(g._click,g)).on(Ga+g._eventNS,X(g._keydown,g)),k=J(k)?!!k:!!b.attr(ya),d.attr($,ea),g.checked(k,!1),void g.enabled(h.enabled))},refresh:function(a){this.refreshWithElement(this._original,a)},_keydown:function(a){var b=this;a.keyCode===F.SPACE&&(b._click(a),a.preventDefault())},_click:function(a){var b=this;b._enabled&&(b.checked(!b._checked),b.trigger(Fa,a),a.preventDefault(),a.stopPropagation())},checked:function(){var b,c,d=this,e=d.options,f=e.onText,g=e.offText,h=a(d.element),i=a(d._handle),j=a(d._text),k=d._original,l=[].slice.call(arguments),m=100;return l.length>0?(b=!!l[0],c=!J(l[1])||!!l[1],c||(m=0),b?(k.attr(ya,ya),i.animate({left:h.width()-i.width()-2},m,function(){h.addClass("sui-switch-checked").attr(qa,_),J(f)&&(j.html(f),h.attr(ra,jb(f)))})):(k.removeAttr(ya),i.animate({left:-2},m,function(){h.removeClass("sui-switch-checked").attr(qa,aa),J(g)&&(j.html(g),h.attr(ra,jb(g)))})),d._checked=b,void 0):d._checked},enabled:function(){var b,c=this,d=a(c.element),e=c._original,f=[].slice.call(arguments);return f.length>0?(b=!!f[0],b?(d.removeAttr(xa).removeClass("sui-switch-disabled"),e.removeAttr(xa)):(d.attr(xa,xa).addClass("sui-switch-disabled"),e.attr(xa,xa)),c._enabled=b,void 0):c._enabled},destroy:function(){var b=this;a(b.element).off(b._eventNS),a(b._inner).remove(),a(b._handle).remove(),b._original.unwrap().show(),b._original=b._inner=b._handle=null,C.fn.destroy.call(b)}}),B.defaults=A,b.ui.plugin("Switch",B)}(jQuery,shield,this);